{"swagger":"2.0","info":{"version":"1.0","title":"Grupo Boticário Challenge 1.0","description":".NET Core Rest API with SQLITE, EFCore and Self-Documented with Swagger","termsOfService":"Shareware","contact":{"name":"Grupo Boticário/Emanuel Rocha","email":""},"license":{"name":"EMANUEL ROCHA V1.0.0.0","url":"https://github.com/ZXVentures/code-challenge/blob/master/backend.md"}},"paths":{"/api/Compras":{"get":{"tags":["Compras"],"summary":"Listar compras do Revendedor","operationId":"ListarCompras","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"api-version","in":"query","description":"The requested API version","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ListarComprasResponse"}},"404":{"description":"Not Found","schema":{"type":"string"}},"400":{"description":"Bad Request","schema":{"type":"string"}},"500":{"description":"Server Error","schema":{"type":"object"}}}},"post":{"tags":["Compras"],"summary":"Adicionar nova Compra","operationId":"AdicionarCompra","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"adicionarRequest","in":"body","required":false,"schema":{"$ref":"#/definitions/AdicionarCompraRequest"}},{"name":"api-version","in":"query","description":"The requested API version","required":false,"type":"string"}],"responses":{"201":{"description":"Success","schema":{"$ref":"#/definitions/AdicionarCompraResponse"}},"400":{"description":"Bad Request","schema":{"type":"string"}},"500":{"description":"Server Error","schema":{"type":"object"}}}}},"/api/Compras/{id}":{"delete":{"tags":["Compras"],"summary":"Excluir Compra","operationId":"ExcluirCompra","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"},{"name":"api-version","in":"query","description":"The requested API version","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ExcluirCompraResponse"}},"404":{"description":"Not Found","schema":{"type":"string"}},"400":{"description":"Bad Request","schema":{"type":"string"}},"500":{"description":"Server Error","schema":{"type":"object"}}}},"patch":{"tags":["Compras"],"summary":"Atualizar Compra","operationId":"AtualizarCompra","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"},{"name":"adicionarRequest","in":"body","required":false,"schema":{"$ref":"#/definitions/EditarCompraRequest"}},{"name":"api-version","in":"query","description":"The requested API version","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AtualizarCompraResponse"}},"404":{"description":"Not Found","schema":{"type":"string"}},"400":{"description":"Bad Request","schema":{"type":"string"}},"500":{"description":"Server Error","schema":{"type":"object"}}}}},"/api/Revendedores":{"post":{"tags":["Revendedores"],"summary":"Registrar/Adicionar novo Revendedor","operationId":"RegistrarRevendedor","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"adicionarRequest","in":"body","required":false,"schema":{"$ref":"#/definitions/AdicionarRevendedorRequest"}},{"name":"api-version","in":"query","description":"The requested API version","required":false,"type":"string"}],"responses":{"201":{"description":"Success","schema":{"$ref":"#/definitions/RegistrarRevendedorResponse"}},"400":{"description":"Bad Request","schema":{"type":"string"}},"500":{"description":"Server Error","schema":{"type":"object"}}}}},"/api/Revendedores/autenticar":{"post":{"tags":["Revendedores"],"summary":"Validar/Autenticar dados do Revendedor","operationId":"AutenticarRevendedor","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"autenticarRequest","in":"body","required":false,"schema":{"$ref":"#/definitions/AutenticarRevendedorRequest"}},{"name":"api-version","in":"query","description":"The requested API version","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AutenticarRevendedorResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ProblemDetails"}},"400":{"description":"Bad Request","schema":{"type":"string"}},"500":{"description":"Server Error","schema":{"type":"object"}}}}},"/api/Revendedores/cashback":{"get":{"tags":["Revendedores"],"summary":"Retornar o Acumulado de CashBack para o Revendedor","operationId":"ObterCashBackAcumuladoRevendedor","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"api-version","in":"query","description":"The requested API version","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ObterAcumuladoResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ProblemDetails"}},"400":{"description":"Bad Request","schema":{"type":"string"}},"500":{"description":"Server Error","schema":{"type":"object"}}}}}},"definitions":{"AdicionarCompraRequest":{"required":["codigo","valor","data","cpfRevendedor"],"type":"object","properties":{"codigo":{"type":"string"},"valor":{"format":"double","type":"number"},"data":{"format":"date-time","type":"string"},"cpfRevendedor":{"type":"string"}}},"AdicionarCompraResponse":{"type":"object","properties":{"id":{"format":"int32","type":"integer","readOnly":true},"successo":{"type":"boolean","readOnly":true},"messagem":{"type":"string","readOnly":true},"codigoRetorno":{"format":"int32","type":"integer","readOnly":true}}},"ListarComprasResponse":{"type":"object","properties":{"compras":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/CompraDto"},"readOnly":true},"successo":{"type":"boolean","readOnly":true},"messagem":{"type":"string","readOnly":true},"codigoRetorno":{"format":"int32","type":"integer","readOnly":true}}},"CompraDto":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"codigo":{"type":"string"},"valor":{"format":"double","type":"number"},"percentualCashBack":{"format":"int32","type":"integer"},"data":{"format":"date-time","type":"string"}}},"EditarCompraRequest":{"type":"object","properties":{"codigo":{"type":"string"},"valor":{"format":"double","type":"number"},"data":{"format":"date-time","type":"string"}}},"AtualizarCompraResponse":{"type":"object","properties":{"successo":{"type":"boolean","readOnly":true},"messagem":{"type":"string","readOnly":true},"codigoRetorno":{"format":"int32","type":"integer","readOnly":true}}},"ExcluirCompraResponse":{"type":"object","properties":{"successo":{"type":"boolean","readOnly":true},"messagem":{"type":"string","readOnly":true},"codigoRetorno":{"format":"int32","type":"integer","readOnly":true}}},"AdicionarRevendedorRequest":{"required":["nome","cpf","email","senha"],"type":"object","properties":{"nome":{"type":"string"},"cpf":{"type":"string"},"email":{"type":"string"},"senha":{"type":"string"}}},"RegistrarRevendedorResponse":{"type":"object","properties":{"token":{"$ref":"#/definitions/Token","readOnly":true},"successo":{"type":"boolean","readOnly":true},"messagem":{"type":"string","readOnly":true},"codigoRetorno":{"format":"int32","type":"integer","readOnly":true}}},"Token":{"type":"object","properties":{"tokenJwt":{"type":"string","readOnly":true},"expiraEm":{"type":"string","readOnly":true}}},"AutenticarRevendedorRequest":{"required":["login","senha"],"type":"object","properties":{"login":{"type":"string"},"senha":{"type":"string"}}},"AutenticarRevendedorResponse":{"type":"object","properties":{"token":{"$ref":"#/definitions/Token","readOnly":true},"successo":{"type":"boolean","readOnly":true},"messagem":{"type":"string","readOnly":true},"codigoRetorno":{"format":"int32","type":"integer","readOnly":true}}},"ProblemDetails":{"type":"object","properties":{"type":{"type":"string"},"title":{"type":"string"},"status":{"format":"int32","type":"integer"},"detail":{"type":"string"},"instance":{"type":"string"}},"additionalProperties":{"type":"object"}},"ObterAcumuladoResponse":{"type":"object","properties":{"credito":{"format":"int32","type":"integer","readOnly":true},"successo":{"type":"boolean","readOnly":true},"messagem":{"type":"string","readOnly":true},"codigoRetorno":{"format":"int32","type":"integer","readOnly":true}}}},"securityDefinitions":{"Bearer":{"name":"Authorization","in":"header","type":"apiKey","description":"API Segura, necessário prover o Token de Acesso"}}}